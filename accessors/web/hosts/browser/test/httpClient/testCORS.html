<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Test Page for CORS request using REST accessor </title>
    <link rel="stylesheet" type="text/css" href="/accessors/hosts/browser/accessorStyle.css">
    <script>
        // Define initial values for accessor inputs.  Do so here vs. in the 
        // accessor definition since they're specific to this scenario.   
        // browser.js looks for initialValues variable. 
 	    var initialValues = {};
        initialValues["REST.options"] = "\"https://cors-test.appspot.com/test\"";
        initialValues["REST.trigger"] = true;
    </script>       
    
</head>
<body>
<div>
If you do not see an accessor below, then see the
<a href="/accessors/hosts/browser/test/index.html">instructions for running a browser host</a>.
<hr>
<p> Please click "react to inputs".  The output should be: </p>
<ul> <li> response: {"status":"ok"} </li>
	 <li> status: Type string, Value 200: OK </li>
</ul>
</div>
<hr>
<div class="accessor"
   src="net/REST"
   id="REST"></div>
   
<!-- Load browser.js, if not already loaded.  The TerraSwarm website automatically loads browser.js.
	 To check if loaded, look for one of the global functions defined by browser.js - here, generate() -->
<div>
	<script>
		if (typeof generate === "undefined") {
			function loadScript(callback) {
				var browserScript = document.createElement('script');
				browserScript.src = '/accessors/hosts/browser/browser.js';
				        		
				// Different browsers have different loading events - bind to all.
				browserScript.onreadystatechange = callback;
				browserScript.onload = callback;
				        	    
				var head = document.getElementsByTagName('head')[0];
				head.appendChild(browserScript);
			}
				    		
		loadScript(function callGenerate() {
			generate();
		});
	}
	</script>
</div>
</body>
</html>