<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Browser Swarmlet Host</title>
    <link rel="stylesheet" type="text/css" href="/accessors/hosts/browser/accessorStyle.css">
    <script src="/accessors/hosts/browser/browser.js"></script>
    
        <!-- Check the URL for a querystring specifying an accessor to load (optional).
    	 E.g. https://www.terraswarm.org/accessors/library/index.html?accessor=services.StockTick 
    	 The querystring uses . instead of / since / is a special character in URLs. -->
    <script>
    	window.onload = function() {
	    	var url = window.location.href;
	    	var index = url.lastIndexOf('?');
	    	var querystring = "", accessor = "";
	    	var slashIndex = -1;
	    	
	    	if (index >= 0){
	    		querystring = url.substring(index + 1, url.length);
	    		
	    		// This code assumes that "accessor" is the only querystring 
	    		// parameter passed.  Multiple parameters are not supported.
	    		if (querystring.startsWith("accessor=")){
	    			querystring = querystring.substring(9, querystring.length);
	    			
	    			// Querystring uses . instead of / which is a special character.
	    			// Replace . with /
	    			querystring = querystring.replace('.', '/');
	    			generateAccessorHTML(querystring, 'accessorDirectoryTarget');
	    			
	    			// Call toggleVisbility() to expand the directory that this
	    			// this accessor is located in.  For example, expand "net"
	    			// for "net/REST".
	    			slashIndex = querystring.indexOf("/");
	    			if (slashIndex > 0) {
	    				toggleVisibility("/accessors/" + querystring.substring(0, slashIndex), 0, getIndex);
	    			}
	    		}
	    	}
    	}
   
    </script>
</head>
<body>
<h1 class="header">Browser Swarmlet Host</h1>
<p>
The Browser Swarmlet Host enables you to inspect accessors in your browser.
Parameters, inputs, and outputs of the accessor are shown as tables.
Documentation is extracted from the accessor specification and displayed on the web page.
The table of contents on the left shows all accessors currently checked into the
repository, and clicking on an accessor will display it below.
</p><p>
A few accessors are also executable within the browser.
At this time, however, this includes only accessors that do not require any optional
modules. Even as more modules are implemented for this host, some accessors will always
be out of reach for the browser host because of security restrictions for JavaScript
executing in a browser.
</p><p>
For test web pages for the browser host, see
<a href="/accessors/hosts/browser/test/index.html">Browser Test Pages</a>.
</p><p>
For more details and instructions for using and extending the browser
host, see the <a href="/accessors/wiki/Main/BrowserHost">Browser Host wiki page</a>.
</p>
<hr>
<p>
<div id="accessorDirectoryTarget"></div>
</p>
</body>
</html>