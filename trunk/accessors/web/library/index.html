<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Accessor Repository</title>
    <link rel="stylesheet" type="text/css" href="/accessors/hosts/browser/accessorStyle.css">
    <script src="/accessors/hosts/browser/browser.js"></script>
    
    <!-- Check the URL for a querystring specifying an accessor to load (optional).
    	 E.g. https://www.terraswarm.org/accessors/library/index.html?accessor=services.StockTick 
    	 The querystring uses . instead of / since / is a special character in URLs. -->
    <script>
    	window.onload = function() {
	    	var url = window.location.href;
	    	var index = url.lastIndexOf('?');
	    	var querystring = "", accessor = "";
	    	var slashIndex = -1;
	    	
	    	if (index >= 0){
	    		querystring = url.substring(index + 1, url.length);
	    		
	    		// This code assumes that "accessor" is the only querystring 
	    		// parameter passed.  Multiple parameters are not supported.
	    		if (querystring.startsWith("accessor=")){
	    			querystring = querystring.substring(9, querystring.length);
	    			
	    			// Querystring uses . instead of / which is a special character.
	    			// Replace . with /
	    			querystring = querystring.replace('.', '/');
	    			generateAccessorHTML(querystring, 'accessorDirectoryTarget');
	    			
	    			// Call toggleVisbility() to expand the directory that this
	    			// this accessor is located in.  For example, expand "net"
	    			// for "net/REST".
	    			slashIndex = querystring.indexOf("/");
	    			if (slashIndex > 0) {
	    				toggleVisibility("/accessors/" + querystring.substring(0, slashIndex), 0, getIndex);
	    			}
	    		}
	    	}
    	}
   
    </script>
</head>
<body>
<h1 class="header">TerraSwarm Accessor Library</h1>
<p>
The TerraSwarm accessor library is an SVN repository that includes a library of accessors
divided into sublibraries, shown on the left. The repository also includes
open-source code for swarmlet hosts.
Click on the libraries at the left to expand them, and click on an accessor
to inspect it. These are displayed below using the
<a href="/accessors/hosts/browser/index.html">Browser host</a>, which is a work
in progress and will not completely display all accessors
(see the <a href="https://www.terraswarm.org/accessors/wiki/Main/ToDoList">To Do List</a>).
The test library is a good place to start, because all accessors there are compatible with the browser host.
</p>
<hr>
<p>
<div id="accessorDirectoryTarget"></div>
</p>
</body>
</html>